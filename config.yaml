project:
  name: "example_project"            # Required project identifier used to scope SQLite rows
  version: "0.1.0"                   # Optional display version for TUI header and logs
  source_dir: ""                      # Optional: set only when using auto_ingest_source_dir to pull from filesystem
  target_dir: ""                      # Optional mirror directory for converted SQL (used when mirror_outputs is true)
  db_file: "./migration.db"           # Default SQLite path (override with --db-file)
  max_retries: 5                       # Converter loop limit before aborting
  auto_ingest_source_dir: false        # If true, ingest source_dir into SQLite on each run
  mirror_outputs: false                # If true, also write rendered SQL files to target_dir
  silent_mode: false                   # Suppress stdout and persist execution logs into SQLite (override with --silent)

logging:
  level: "INFO"                        # DEBUG for deep tracing, INFO for normal runs
  module_levels:                     # Optional per-module overrides for targeted tracing
    modules.context_builder: "DEBUG"
    agents.workflow: "DEBUG"
  file: "./any2pg.log"                # Empty string to disable file output
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  max_bytes: 1048576                    # Rotate after ~1MB
  backup_count: 3                       # Number of rotated files to keep

database:
  source:
    type: "oracle"                      # See adapter table in README for options
    uri: "oracle+oracledb://username:password@localhost:1521/?service_name=xe"
    schemas: ["HR", "SCOTT", "SALES"]   # Leave empty to use the connection's default schema

  target:
    type: "postgres"
    uri: "postgresql://username:password@localhost:5432/postgres"
    statement_timeout_ms: 5000          # Optional statement_timeout during verification (ms)

llm:
  mode: "full"                         # fast | full â€” fast uses only sqlglot+verifier; full adds LLM review/fixes
  provider: "ollama"                    # Provider handled by LangChain
  model: "gemma:7b"                     # Model name exposed by the provider
  base_url: "http://localhost:11434"
  temperature: 0.1

verification:
  mode: "port"                          # metadata | port | report (default porting mode)
  allow_dangerous_statements: false      # execute DDL/DML during verification (still rolled back) if true
  allow_procedure_execution: false       # execute CALL/DO/EXECUTE during verification when true

rules:
  - "Convert Oracle NVL to COALESCE in PostgreSQL."
  - "Use PostgreSQL INTERVAL syntax for date arithmetic."
  - "Rewrite DECODE into standard CASE expressions."
  - "Map SYSDATE to CURRENT_TIMESTAMP."
